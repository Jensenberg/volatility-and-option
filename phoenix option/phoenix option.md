## 凤凰期权（Phoenix Autocall）

给定一个期初价格，息票率，敲出价格，敲入价格，观察频率
1. 标的价格在某一个观察日高于敲出价格时，敲出一个看涨期权，发行方持有了一个看涨期权的多头，且会以票面价格赎回债券，后续月份不在支付票息，期权提前到期；
2. 标的价格在观察日低于敲入价格时，敲入一个看跌期权，即发行方持有了一个看跌期权多头；敲入时刻所在的月份不支付利息；发行方在期权到期后将根据期末价格与期初价格的大小决定是否执行看跌期权；
3. 标的价格既没有触及敲出价格也没有触及敲入价格，发行方按息票率支付利息；

## 例子 

假设期初价格为100，敲出价格为101，敲出观察频率为每月月末，敲入价格为80，敲入观察频率为每天，无风利率为4%，每月息票率为1.5%，按单利计算，期限为3个月，**从发行方的视角看**：
1. 如果3个月内价格都维持在80-101之间，则发行方相当于发行了一个高收益的债券，每个月支付1.5%的利息，期末累计支付利息为4.5，资本利得为0；
2. 如果3个月内，价格都没有高于敲出价格，但第2个月有一天的价格低于敲入价格，从而敲入了一个看跌期权，则需要支付第1个月，第3个月的利息，累计支付利息为3.0，期末看跌期权多头的收益为$nax(0, S_T - S_0)$
3. 如果3个月内，第2月的月末价格高于敲出价格，且前两个月的每天的价格都高于敲入价格，则需要支付两个月的利息，凤凰期权提前到期，累计支付利息为3.0（忽略第3个月的在投资收益），本金损失为0；

**总的来说**

$$利息支付期数 = 期权存续期数 - 存在敲入的月份数$$

资本利得则取决于是否敲入看跌，以及看跌存续到期末，且期末价格小于期初价格，才能形成正收益。

![路径图](https://github.com/Jensenberg/volatility-and-option/blob/master/data/phoenix_path_0.png)

第2个观测点（第40天）向上敲出，没有敲入，支付利息3.0

![路径图1](https://github.com/Jensenberg/volatility-and-option/blob/master/data/phoenix_path_1.png)

第3个观测点（第60天）向上敲出，没有敲入，支付利息4.5

![路径图2](https://github.com/Jensenberg/volatility-and-option/blob/master/data/phoenix_path_2.png)

第1个观测点（第20天）向上敲出，没有敲入，支付利息1.5

![路径图3](https://github.com/Jensenberg/volatility-and-option/blob/master/data/phoenix_path_3.png)

没有敲入和敲出，支付利息4.5

![路径图4](https://github.com/Jensenberg/volatility-and-option/blob/master/data/phoenix_path_4.png)

没有敲出，第3个月内敲入了一个看跌期权，支付利息3.0，期末价格约为97元，获得资本利得3.0（100-97）



## 不同期限和不同波动率的凤凰期权的价格和delta值

1. 价格采用Monte-Carlo模拟进行定价；

2. delta值则通过将价格路径整体放大和缩小，观察期权价格的变化

   $$\Delta = \frac{phoenix^+ - phoenix^-} {S_0^+ - S_0^-}$$

   $phoenix^+$：价格变大后的期权价格

   $phoenix^-$：价格变小后的期权价格

   $S_0^+：S_0 * (1 + k)，k=0.01$，价格变大后的期权价格，$k$也可以取其他值，如：$0.001，0.0001$

   $S_0^-：S_0 * (1 - k)，k=0.01$，价格变大后的期权价格

   
|期权价格 |3个月 |6个月|9个月|12个月|
|:-----:|-------:|-------:|-------:|---------:|
|0.20|3.5662|4.5453|4.5820|4.6408|
|0.25|4.2392|5.0560|5.2066|5.4007|
|0.30|5.0465|5.6950|6.0404|6.2850|
|0.35|5.7757|6.5535|6.8389|7.0972|
|0.40|6.5571|7.4565|7.6432|7.8407|

| delta | 3个月   | 6个月  | 9个月   |12个月|
| :----: | ------: | ------: | ----:| ------: |
| 0.20   | -0.2397 | -0.2970 | -0.2936 | -0.3091 |
| 0.25   | -0.2229 | -0.2462 | -0.2828 | -0.2967 |
| 0.30   | -0.1959 | -0.2233 | -0.2832 | -0.3305 |
| 0.35   | -0.1613 | -0.2088 | -0.2816 | -0.3302 |
| 0.4    | -0.1484 | -0.2334 | -0.2878 | -0.3113 |

![价格与delta](https://github.com/Jensenberg/volatility-and-option/blob/master/data/phoenix_values_deltas.png)

从上图可以看出，凤凰期权的价格对于波动率和期限，都是单调的，波动率越大，价格越高；期限越长，价格也越高。
对于delta值，则只是对期限有一般的单调性，对于波动则不是单调的。